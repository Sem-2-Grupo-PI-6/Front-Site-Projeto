<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Evolvere Invest - Dashboard Investidor</title>
    <link rel="stylesheet" href="./css/styleCliente.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <main>
      <aside>
        <header>
          <h1>Evolvere Invest</h1>
          <p>Inteligência Estratégica Imobiliária</p>
        </header>
        <section class="session">
          <figure>SC</figure>
          <figcaption>
            <h2>Sierra Capital</h2>
            <span>Fundo de Investimento</span>
          </figcaption>
        </section>
        <nav aria-label="Primary">
          <h2>Menu Principal</h2>
          <ul>
            <li><a href="#">📊 Dashboard</a></li>
            <li><a href="#">🗺️ Meus FIltros</a></li>
            <li><a href="./configUsuario.html">📈 Configuraçôes</a></li>
            <li><button type="button">🚪 Sair</button></li>
          </ul>
        </nav>
        <section class="briefing">
          <h2>💡 Insight do Dia</h2>
          <p>Regiões com crescimento de PIB acima de 4% e Selic estável apresentam ambiente favorável para novos empreendimentos.</p>
        </section>
      </aside>
      
      <section class="workspace">
        <section class="workspace-header">
          <div>
            <h2>Cenário Macroeconômico - São Paulo</h2>
            <span>Atualizado há 2 horas • Base: IBGE, Bacen, IPEA • Q4 2024</span>
          </div>
          <div class="header-actions">
            <button class="btn-secondary">📅 Último Trimestre</button>
            <button class="btn-primary">📥 Exportar Análise</button>
          </div>
        </section>

        <section class="kpi-grid" aria-label="Indicadores macroeconômicos chave">
          <article class="kpi-card kpi-primary">
            <div class="kpi-icon">📊</div>
            <div class="kpi-content">
              <div class="kpi-header">
                <span class="kpi-label">PIB Estado de SP</span>
                <span class="kpi-badge">Anual</span>
              </div>
              <div class="kpi-value">+3.8<span class="kpi-unit">%</span></div>
              <div class="kpi-meta">
                <span class="kpi-trend positive">↑ 0.6pp vs 2023</span>
                <span class="kpi-description">Crescimento acima da média nacional</span>
              </div>
            </div>
          </article>

          <article class="kpi-card kpi-success">
            <div class="kpi-icon">🏗️</div>
            <div class="kpi-content">
              <div class="kpi-header">
                <span class="kpi-label">Valor Adicionado - Construção</span>
                <span class="kpi-badge">Trimestral</span>
              </div>
              <div class="kpi-value">+5.2<span class="kpi-unit">%</span></div>
              <div class="kpi-meta">
                <span class="kpi-trend positive">↑ 1.8pp</span>
                <span class="kpi-description">Setor em expansão acelerada</span>
              </div>
            </div>
          </article>

          <article class="kpi-card kpi-warning">
            <div class="kpi-icon">💰</div>
            <div class="kpi-content">
              <div class="kpi-header">
                <span class="kpi-label">Taxa Selic</span>
                <span class="kpi-badge">Atual</span>
              </div>
              <div class="kpi-value">11.75<span class="kpi-unit">%</span></div>
              <div class="kpi-meta">
                <span class="kpi-trend neutral">→ Estável</span>
                <span class="kpi-description">Ambiente de crédito moderado</span>
              </div>
            </div>
          </article>

          <article class="kpi-card kpi-info">
            <div class="kpi-icon">👥</div>
            <div class="kpi-content">
              <div class="kpi-header">
                <span class="kpi-label">Faixa Etária - Predominante</span>
                <span class="kpi-badge">Regiões-Alvo</span>
              </div>
              <div class="kpi-value">21~30<span class="kpi-unit">Anos</span></div>
              <div class="kpi-meta">
                <span class="kpi-trend positive">49.30%</span>
                <span class="kpi-description"> SP Capital</span>
              </div>
            </div>
          </article>
        </section>

        <section class="charts-area" aria-label="Análises detalhadas">
          <article class="chart-card">
            <header class="chart-header">
              <div>
                <h3>📈 Evolução do PIB Regional</h3>
                <span>Crescimento trimestral por região (Estado de SP)</span>
              </div>
              <div class="chart-legend">
                <span class="legend-item"><span class="dot primary"></span> Grande SP</span>
                <span class="legend-item"><span class="dot secondary"></span> Interior</span>
                <span class="legend-item"><span class="dot success"></span> Litoral</span>
              </div>
            </header>
            <figure>
              <canvas id="pibRegionalChart" aria-label="Gráfico de evolução do PIB por região"></canvas>
            </figure>
          </article>

          <article class="chart-card">
            <header class="chart-header">
              <div>
                <h3>🏭 Valor Adicionado por Setor</h3>
                <span>Contribuição setorial para o PIB (últimos 12 meses)</span>
              </div>
              <div class="chart-legend">
                <span class="legend-item"><span class="dot primary"></span> Construção Civil</span>
                <span class="legend-item"><span class="dot warning"></span> Imobiliario</span>
                <span class="legend-item"><span class="dot success"></span> Serviços</span>
              </div>
            </header>
            <figure>
              <canvas id="valorAdicionadoChart" aria-label="Gráfico de valor adicionado setorial"></canvas>
            </figure>
          </article>

          <article class="chart-card">
            <header class="chart-header">
              <div>
                <h3>🎯 Índice de Atratividade</h3>
                <span>Score de investimento por microrregião (0-100)</span>
              </div>
              <div class="chart-legend">
                <span class="legend-item"><span class="dot success"></span> Atrativo</span>
                <span class="legend-item"><span class="dot warning"></span> Moderado</span>
              </div>
            </header>
            <figure>
              <canvas id="atratividadeChart" aria-label="Gráfico de índice de atratividade"></canvas>
            </figure>
          </article>
        </section>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      const defaultOptions = {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: { display: false },
          tooltip: {
            backgroundColor: "rgba(9, 61, 31, 0.95)",
            borderColor: "rgba(14, 105, 48, 0.5)",
            borderWidth: 1,
            titleColor: "#f5f5f5",
            bodyColor: "#f5f5f5",
            padding: 12,
            cornerRadius: 8,
            displayColors: true,
          },
        },
        scales: {
          x: {
            grid: {
              color: "rgba(14, 105, 48, 0.08)",
              drawBorder: false,
            },
            ticks: {
              color: "rgba(9, 61, 31, 0.7)",
              font: { size: 11, weight: '500' }
            },
          },
          y: {
            grid: {
              color: "rgba(14, 105, 48, 0.08)",
              drawBorder: false,
            },
            ticks: {
              color: "rgba(9, 61, 31, 0.7)",
              font: { size: 11, weight: '500' }
            },
          },
        },
      };

      new Chart(document.getElementById("pibRegionalChart"), {
        type: "line",
        data: {
          labels: ["Q1 2023", "Q2 2023", "Q3 2023", "Q4 2023", "Q1 2024", "Q2 2024", "Q3 2024", "Q4 2024"],
          datasets: [
            {
              label: "Grande SP",
              data: [3.2, 3.5, 3.7, 4.1, 3.9, 4.3, 4.5, 4.7],
              borderColor: "#0e6930",
              backgroundColor: "rgba(14, 105, 48, 0.15)",
              tension: 0.4,
              fill: true,
              borderWidth: 3,
              pointRadius: 4,
              pointHoverRadius: 6,
              pointBackgroundColor: "#0e6930",
            },
            {
              label: "Interior",
              data: [2.8, 3.1, 3.3, 3.6, 3.4, 3.8, 4.0, 4.2],
              borderColor: "rgba(9, 61, 31, 0.7)",
              backgroundColor: "rgba(9, 61, 31, 0.1)",
              tension: 0.4,
              fill: true,
              borderWidth: 2.5,
              pointRadius: 3,
              pointHoverRadius: 5,
              pointBackgroundColor: "rgba(9, 61, 31, 0.7)",
            },
            {
              label: "Litoral",
              data: [2.5, 2.7, 2.9, 3.2, 3.0, 3.4, 3.6, 3.8],
              borderColor: "#16a34a",
              backgroundColor: "rgba(22, 163, 74, 0.1)",
              tension: 0.4,
              fill: true,
              borderWidth: 2,
              borderDash: [5, 3],
              pointRadius: 3,
              pointHoverRadius: 5,
              pointBackgroundColor: "#16a34a",
            },
          ],
        },
        options: {
          ...defaultOptions,
          scales: {
            ...defaultOptions.scales,
            y: {
              ...defaultOptions.scales.y,
              ticks: {
                ...defaultOptions.scales.y.ticks,
                callback: (value) => `${value}%`,
              },
            },
          },
        },
      });

      new Chart(document.getElementById("valorAdicionadoChart"), {
        type: "bar",
        data: {
          labels: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
          datasets: [
            {
              label: "Construção Civil",
              data: [4.2, 4.5, 4.8, 5.1, 5.3, 5.5, 5.7, 5.4, 5.6, 5.8, 6.0, 6.2],
              backgroundColor: "#0e6930",
              borderRadius: 6,
              borderSkipped: false,
            },
            {
              label: "Imobiliario",
              data: [2.8, 3.0, 3.2, 3.4, 3.3, 3.5, 3.6, 3.4, 3.7, 3.8, 3.9, 4.0],
              backgroundColor: "#f59e0b",
              borderRadius: 6,
              borderSkipped: false,
            },
            {
              label: "Serviços",
              data: [3.5, 3.7, 3.9, 4.0, 4.1, 4.3, 4.4, 4.2, 4.5, 4.6, 4.7, 4.8],
              backgroundColor: "#16a34a",
              borderRadius: 6,
              borderSkipped: false,
            },
          ],
        },
        options: {
          ...defaultOptions,
          scales: {
            ...defaultOptions.scales,
            x: { ...defaultOptions.scales.x, stacked: false },
            y: { 
              ...defaultOptions.scales.y, 
              suggestedMax: 7,
              ticks: {
                ...defaultOptions.scales.y.ticks,
                callback: (value) => `${value}%`,
              },
            },
          },
        },
      });

      new Chart(document.getElementById("atratividadeChart"), {
        type: "bar",
        data: {
          labels: ["Zona Sul", "Zona Leste", "ABC Paulista", "Campinas", "Santos", "Ribeirão Preto"],
          datasets: [
            {
              label: "Score de Atratividade",
              data: [82, 75, 88, 79, 71, 76],
              backgroundColor: [
                "#0e6930",
                "#16a34a",
                "#0e6930",
                "#22c55e",
                "#f59e0b",
                "#16a34a",
              ],
              borderRadius: 8,
              borderSkipped: false,
            },
          ],
        },
        options: {
          ...defaultOptions,
          indexAxis: 'y',
          scales: {
            x: {
              ...defaultOptions.scales.x,
              max: 100,
              ticks: {
                ...defaultOptions.scales.x.ticks,
                callback: (value) => `${value}`,
              },
            },
            y: {
              ...defaultOptions.scales.y,
              grid: {
                display: false,
              },
            },
          },
        },
      });
    </script>
  </body>
</html>